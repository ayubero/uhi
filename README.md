# UHI

The purpose of this project is to automatically detect Urban Heat Islands (UHI) in cities using Sentinel-2 images.

## Installation

This project uses poetry to manage its dependencies, so just run `poetry install --no-root` to install all dependencies mentioned in pyproject.toml. After that, execute `poetry shell` to activate the virtual environment.

## Image download

In `download.py`, the constant `product_url` is defined based on [this documentation](https://documentation.dataspace.copernicus.eu/APIs/OData.html) to locate any product in the Copernicus OData API. Adjust this constant according to your search requirements.

Ensure you have a `.env` file in the scripts folder to store the **ACCESS_TOKEN** and **SECRET_ACCESS_KEY**. These credentials can be generated by following [this guide](https://documentation.dataspace.copernicus.eu/APIs/S3.html), allowing you to download images from the Copernicus S3 endpoint.

---

## Image preprocessing

`preprocessing.py` enables you to merge NIR, SWIR1 and SWIR2 bands of a tile into a single .tif file. You can also provide a shapefile to mask the .tif file and delimit the study area boundaries.

---

## Clustering
Run `clustering.py` to cluster each pixel on map into different temperature zones depending on NIR values provided by `preprocessing.py`.